(this.webpackJsonpminesweeper=this.webpackJsonpminesweeper||[]).push([[0],{136:function(e){e.exports=JSON.parse('{"a":"1.2.0"}')},150:function(e,t,n){e.exports=n(213)},155:function(e,t,n){},186:function(e,t){},209:function(e,t,n){},212:function(e,t){e.exports="data:image/png;base64,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"},213:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),o=n(12),l=n.n(o),i=(n(155),n(126)),c=n.n(i),s=n(75),u=n(14),m=n(34),d=function(e,t){switch(t.type){case"REMOVE_FLAG":return Object(u.a)(Object(u.a)({},e),{},{currentBombsRemaining:e.currentBombsRemaining+1});case"ADD_FLAG":return Object(u.a)(Object(u.a)({},e),{},{currentBombsRemaining:e.currentBombsRemaining-1});case"IS_CONNECTED":return Object(u.a)(Object(u.a)({},e),{},{isConnected:!0});case"IS_DISCONNECTED":return Object(u.a)(Object(u.a)({},e),{},{isConnected:!1});case"ALERT_SHOW":return Object(u.a)(Object(u.a)({},e),{},{alert:t.payload});case"ALERT_HIDE":return Object(u.a)(Object(u.a)({},e),{},{alert:null});case"UPDATE_FLAGS":return Object(u.a)(Object(u.a)({},e),{},{currentBombsRemaining:t.payload});default:return e}},p=n(138),g=n(13),h=n(15),f=new(function(){function e(){Object(g.a)(this,e)}return Object(h.a)(e,[{key:"getPlayer",value:function(e){return this.getFromLocalStorage()[e]}},{key:"getLevel",value:function(){return this.getFromLocalStorage().level||"sm"}},{key:"getFormats",value:function(){return this.getFromLocalStorage().formats||[]}},{key:"setPlayer",value:function(e,t){this.setToLocalStorage("player",e),this.setToLocalStorage("name",t)}},{key:"setLevel",value:function(e){this.setToLocalStorage("level",e)}},{key:"setFormats",value:function(e){this.setToLocalStorage("formats",e)}},{key:"addRecord",value:function(e){var t=this.getFromLocalStorage().records||[];this.setToLocalStorage("records",[].concat(Object(p.a)(t),[Object(u.a)(Object(u.a)({},e),{},{date:new Date})]))}},{key:"getRecords",value:function(){return this.getFromLocalStorage().records||[]}},{key:"clearRecords",value:function(){this.setToLocalStorage("records",[])}},{key:"setToLocalStorage",value:function(e,t){var n=this.getFromLocalStorage();n[e]=t,localStorage.setItem("com.thiagozanluca.minesweeper",JSON.stringify(n))}},{key:"getFromLocalStorage",value:function(){var e=localStorage.getItem("com.thiagozanluca.minesweeper");return e&&"undefined"!==e?JSON.parse(e):{}}}]),e}()),v=n(36),b=function(){return v[f.getLevel()].bombs},E={alert:null,defaultBombsRemaining:b(),currentBombsRemaining:b(),isConnected:null},y=Object(a.createContext)(E),C=function(e){var t=e.children,n=Object(a.useReducer)(d,E),o=Object(m.a)(n,2),l=o[0],i=o[1];return r.a.createElement(y.Provider,{value:Object(u.a)(Object(u.a)({},l),{},{alertError:function(e,t){i({payload:Object(u.a)(Object(u.a)({},t),{},{children:e,severity:"error"}),type:"ALERT_SHOW"})},alertInfo:function(e,t){i({payload:Object(u.a)(Object(u.a)({},t),{},{children:e,severity:"info"}),type:"ALERT_SHOW"})},alertSuccess:function(e,t){i({payload:Object(u.a)(Object(u.a)({},t),{},{children:e,severity:"success"}),type:"ALERT_SHOW"})},alertWarning:function(e,t){i({payload:Object(u.a)(Object(u.a)({},t),{},{children:e,severity:"warning"}),type:"ALERT_SHOW"})},hideAlert:function(){i({type:"ALERT_HIDE"})},removeFlag:function(){i({type:"REMOVE_FLAG"})},addFlag:function(){i({type:"ADD_FLAG"})},setConnected:function(){i({type:"IS_CONNECTED"})},setDisconnected:function(){i({type:"IS_DISCONNECTED"})},updateFlags:function(){i({payload:b(),type:"UPDATE_FLAGS"})}})},t)},O=n(291),k=n(253),S=n(288),A=Object(k.a)({icon:{margin:"auto",marginRight:12}}),w=function(e){var t=e.autoHideDuration,n=e.children,o=e.icon,l=e.severity,i=e.vertical,c=Object(a.useContext)(y).hideAlert;return r.a.createElement(O.a,{open:!0,anchorOrigin:{vertical:i,horizontal:"center"},autoHideDuration:t,onClose:c},r.a.createElement(S.a,{classes:{icon:A().icon},elevation:6,icon:!1!==o&&void 0,onClose:c,severity:l,variant:"filled"},n))};w.defaultProps={autoHideDuration:3e3,children:null,icon:null,vertical:"bottom"};var j=w,F=n(17),P=n(16),R=n(285),N=n(263),B=n(286),D=n(259),x=n(35),T=n.n(x),I=n(29),U=n.n(I),W=n(47),G=n(87),M=n(20),q=n.n(M),L=n(30),H=n(50),z=n.n(H),V={baseURL:"".concat(s.a,"api/"),headers:{"Content-Type":"application/json"}},X=new function e(){Object(g.a)(this,e),this.downloadImage=function(){var e=Object(L.a)(q.a.mark((function e(t){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("".concat(V.baseURL,"player/download/").concat(t),{method:"GET",headers:V.headers}).then((function(e){return e.blob()})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.sendMail=function(){var e=Object(L.a)(q.a.mark((function e(t){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",z.a.post("/mail/send",t,V));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.getPlayer=function(){var e=Object(L.a)(q.a.mark((function e(t){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",z.a.get("/player?".concat(new URLSearchParams(t).toString()),V));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.getRecords=Object(L.a)(q.a.mark((function e(){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",z.a.get("/record?".concat(["_id=".concat(f.getPlayer("player")),"level=".concat(f.getLevel())].join("&")),V));case 1:case"end":return e.stop()}}),e)}))),this.addRecord=function(){var e=Object(L.a)(q.a.mark((function e(t){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",z.a.post("/record",t,V));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.addPlayer=function(){var e=Object(L.a)(q.a.mark((function e(t){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",z.a.post("/player",t,V));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.updatePlayer=function(){var e=Object(L.a)(q.a.mark((function e(t,n){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",z.a.post("/player/upload/".concat(n),t,V));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},K=(n(209),n(258)),Y=n(260),Z=n(261),J=n(262),Q=n(214),_=n(51),$=n(265),ee=n(140),te=n(266),ne=n(267),ae=n(268),re=n(269),oe=n(270),le=n(271),ie=n(216),ce=n(294),se=n(295),ue=n(264),me=(n(210),function(){return r.a.createElement("div",null,r.a.createElement(K.a,{fullScreen:!0,open:!0,PaperProps:{style:{backgroundColor:"#000"}},style:{opacity:.375}}," "),r.a.createElement(D.a,{style:{position:"absolute",top:"50%",bottom:"50%",left:"50%",right:"50%",zIndex:1301,margin:-20}}))});U.a.locale("pt-br");var de=function(e){Object(F.a)(n,e);var t=Object(P.a)(n);function n(e){var a;return Object(g.a)(this,n),(a=t.call(this,e)).handleFormat=function(e,t){f.setFormats(t),a.setState({formats:t})},a.fetchRecords=function(e){var t=a.props,n=t.alertError,r=t.updateRecords;X.getRecords(e).then((function(e){var t=e.data;r(t[1]),a.setState({data:t,loading:!1})})).catch((function(e){n(e.response?e.response.data:e.message||"Estamos com problemas no servidor"),a.setState({loading:!1})}))},a.handleClose=function(){(0,a.props.handleClose)()},a.state={formats:f.getFormats(),data:[[],[]],loading:!0},a}return Object(h.a)(n,[{key:"componentDidMount",value:function(){var e=this.state.formats;this.fetchRecords(e)}},{key:"render",value:function(){var e=this.state,t=e.data,n=e.formats,a=e.loading,o=this.props,l=o.alertInfo,i=o.content,c=o.rating;return r.a.createElement(K.a,{open:!0,onClose:this.handleClose},a&&r.a.createElement(me,null),r.a.createElement(Y.a,null,"Ranking ","player"!==n[0]?"Pessoal":"Global"),r.a.createElement(Z.a,null,i&&[r.a.createElement(J.a,{key:"performance"},i),r.a.createElement(J.a,{key:"rating"},r.a.createElement(ce.a,{max:c,name:"read-only",value:c,readOnly:!0}))],r.a.createElement(N.a,{style:{marginBottom:8,position:"relative",textAlign:"center"}},r.a.createElement(se.a,{value:n,onChange:this.handleFormat},r.a.createElement(ue.a,{style:{height:32},value:"player"},r.a.createElement(W.b,null))),r.a.createElement(Q.a,{onClick:function(){return l(r.a.createElement(N.a,{container:!0},r.a.createElement(N.a,{item:!0},r.a.createElement(_.a,null,"Ranking din\xe2mico com performances relevantes."))),{autoHideDuration:9e3,icon:!1})},style:{position:"absolute",padding:4,right:0}},r.a.createElement(W.d,null))),r.a.createElement($.a,{component:ee.a},r.a.createElement(te.a,{size:"small"},r.a.createElement(ne.a,null,r.a.createElement(ae.a,null,r.a.createElement(re.a,{align:"right"},"#"),r.a.createElement(re.a,null,"Jogador"),r.a.createElement(re.a,{align:"right"},"Tempo"),r.a.createElement(re.a,{align:"right"},"Data"))),r.a.createElement(oe.a,null,t["player"!==n[0]?1:0].map((function(e,t){return r.a.createElement(ae.a,{key:e._id},r.a.createElement(re.a,{align:"right"},t+1),r.a.createElement(re.a,{component:"th",scope:"row"},e.player&&e.player.name),r.a.createElement(re.a,{align:"right"},U()().minute(0).second(0).millisecond(e.performance).format("mm:ss.SSS")),r.a.createElement(re.a,{align:"right"},U()(e.date).calendar()))})))))),r.a.createElement(le.a,null,r.a.createElement(ie.a,{onClick:this.handleClose,color:"primary",autoFocus:!0,variant:"contained"},"Fechar")))}}]),n}(a.Component);de.defaultProps={content:""};var pe=de,ge=n(287),he=Array(10).fill("").map((function(e,t){return t.toString()})),fe=function(e){Object(F.a)(n,e);var t=Object(P.a)(n);function n(e){var a;return Object(g.a)(this,n),(a=t.call(this,e)).handleClose=function(){(0,a.props.handleClose)()},a.changePhone=function(e){var t=e.target.value.split("").filter((function(e){return he.includes(e)})).filter((function(e,t){return t<11})),n=t.length;n&&(n>2&&(11===n?t.splice(7,0,"-"):n>6&&t.splice(6,0,"-"),t.splice(2,0,") ")),t.splice(0,0,"(")),a.setState({phone:t.join("")})},a.changeName=function(e){var t=e.target;return a.setState({name:t.value})},a.changeEmail=function(e){var t=e.target;return a.setState({email:t.value})},a.changeMessage=function(e){var t=e.target;return a.setState({message:t.value})},a.sendMail=function(){var e=a.props.alertError,t=a.state,n=t.name,r=t.email,o=t.phone,l=t.message;a.setState({loading:!0}),X.sendMail({name:n,email:r,phone:o,message:l}).then(a.finish).catch((function(t){e(t.message),a.setState({loading:!1})}))},a.finish=function(e){var t=e.data;(0,a.props.handleClose)(t)},a.state={email:"",message:"",name:"",phone:""},a}return Object(h.a)(n,[{key:"render",value:function(){var e=this.state,t=e.loading,n=e.name,a=e.message,o=e.email,l=e.phone;return r.a.createElement(K.a,{open:!0,onClose:this.handleClose},t&&r.a.createElement(me,null),r.a.createElement(Y.a,null,"Mensagem"),r.a.createElement(Z.a,null,r.a.createElement(J.a,null,"Envie reclama\xe7\xf5es, sugest\xf5es, d\xfavidas etc."),r.a.createElement(ge.a,{label:"Nome",onChange:this.changeName,size:"small",style:{margin:8},value:n,variant:"outlined"}),r.a.createElement(ge.a,{label:"E-mail",onChange:this.changeEmail,size:"small",style:{margin:8},value:o,variant:"outlined"}),r.a.createElement(ge.a,{label:"Telefone",onChange:this.changePhone,size:"small",style:{margin:8},value:l,variant:"outlined"}),r.a.createElement(ge.a,{label:"Mensagem",multiline:!0,onChange:this.changeMessage,rows:4,size:"small",style:{margin:8},value:a,variant:"outlined"})),r.a.createElement(le.a,null,r.a.createElement(ie.a,{onClick:this.handleClose,color:"primary",variant:"outlined"},"Cancelar"),r.a.createElement(ie.a,{onClick:this.sendMail,color:"primary",variant:"contained"},"Enviar")))}}]),n}(a.Component),ve=n(275),be=function(e){Object(F.a)(n,e);var t=Object(P.a)(n);function n(e){var a;return Object(g.a)(this,n),(a=t.call(this,e)).onKeyDown=function(e){switch(e.key){case"1":a.handleNext(1);break;case"2":a.handleNext(2);break;case"3":a.handleNext(3);break;case"4":a.handleNext(4);break;case"5":a.handleNext(5);break;case"6":a.handleNext(6);break;case"7":a.handleNext(7);break;case"8":a.handleNext(8);break;case"9":a.handleNext(9);break;case"0":a.handleNext(0)}},a.handleNext=function(e){var t=a.state,n=t.step,r=t.value,o=a.props.onFinish;r.push(e),n?a.setState({step:n-1,value:r}):o(r)},a.state={value:[],step:3},a}return Object(h.a)(n,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.onKeyDown,!1)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.onKeyDown,!1)}},{key:"render",value:function(){var e=this,t=this.props,n=t.content,a=t.onClose,o=t.title;return r.a.createElement(K.a,{onClose:a,open:!0},r.a.createElement(Y.a,{style:{textAlign:"center"}},o),r.a.createElement(Z.a,null,n&&r.a.createElement(J.a,null,n),r.a.createElement(ve.a,{orientation:"vertical",color:"primary",style:{margin:"0.5rem"}},r.a.createElement(ie.a,{onClick:function(){return e.handleNext(7)}},"7"),r.a.createElement(ie.a,{onClick:function(){return e.handleNext(4)}},"4"),r.a.createElement(ie.a,{onClick:function(){return e.handleNext(1)}},"1")),r.a.createElement(ve.a,{orientation:"vertical",color:"primary",style:{margin:"0.5rem"}},r.a.createElement(ie.a,{onClick:function(){return e.handleNext(8)}},"8"),r.a.createElement(ie.a,{onClick:function(){return e.handleNext(5)}},"5"),r.a.createElement(ie.a,{onClick:function(){return e.handleNext(2)}},"2"),r.a.createElement(ie.a,{onClick:function(){return e.handleNext(0)}},"0")),r.a.createElement(ve.a,{orientation:"vertical",color:"primary",style:{margin:"0.5rem"}},r.a.createElement(ie.a,{onClick:function(){return e.handleNext(9)}},"9"),r.a.createElement(ie.a,{onClick:function(){return e.handleNext(6)}},"6"),r.a.createElement(ie.a,{onClick:function(){return e.handleNext(3)}},"3"))))}}]),n}(a.Component);be.defaultProps={content:"",title:""};var Ee=be,ye=function(e){Object(F.a)(n,e);var t=Object(P.a)(n);function n(e){var a;return Object(g.a)(this,n),(a=t.call(this,e)).addPlayer=function(){var e=a.props,t=e.alertError,n=e.alertWarning,r=a.state.player;r?(X.getPlayer({slug:T.a.kebabCase(r)}).then((function(){t("J\xe1 existe um usuario com este nome!"),a.setState({loading:!1})})).catch((function(e){404===e.response.status?a.setState({createPIN:!0,loading:!1}):(t(e.response.data),a.setState({loading:!1}))})),a.setState({loading:!0})):n("Insira um nome!"),a.setState({creating:!0})},a.changePlayer=function(e){var t=e.target;a.setState({player:t.value})},a.getPlayer=function(){var e=a.props,t=e.alertError,n=e.alertWarning,r=a.state.player;r?(X.getPlayer({slug:T.a.kebabCase(r)}).then((function(e){var t=e.data;a.setState({name:t.name,PIN:t.pin.split("").map((function(e){return parseInt(e,10)})),loading:!1,checkPIN:!0,_id:t._id})})).catch((function(e){t(e.response?e.response.data:e.message||"Estamos com problemas no servidor"),a.setState({loading:!1})})),a.setState({loading:!0})):n("Insira um nome!")},a.onKeyDown=function(e){"Enter"===e.key&&a.getPlayer()},a.checkPIN=function(e){var t=a.props,n=t.alertError,r=t.alertSuccess,o=t.alertWarning,l=a.state,i=l._id,c=l.creating,s=l.name,u=l.player,m=l.PIN;if(c)e.every((function(e,t){return e===m[t]}))?(X.addPlayer({name:u,pin:m.join("")}).then((function(){r("Jogador criado! Entre para jogar."),a.setState({loading:!1,checkPIN:!1})})).catch((function(e){n(e.response?e.response.data:e.message||"Estamos com problemas no servidor."),a.setState({loading:!1,checkPIN:!1})})),a.setState({loading:!0})):(o("As chaves n\xe3o coincidem!"),a.setState({checkPIN:!1}));else if(e.every((function(e,t){return e===m[t]}))){(0,a.props.onStart)(i,s)}else o("Chave inv\xe1lida!"),a.setState({checkPIN:!1})},a.state={checkPIN:!1,createPIN:!1,loading:!1,player:"",creating:!1},a}return Object(h.a)(n,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.onKeyDown,!1)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.onKeyDown,!1)}},{key:"render",value:function(){var e=this,t=this.state,n=t.checkPIN,a=t.createPIN,o=t.creating,l=t.loading,i=t.player,c=this.props.handleClose;return r.a.createElement("div",null,l&&r.a.createElement(me,null),a&&r.a.createElement(Ee,{onClose:function(){return e.setState({createPIN:!1})},title:"Crie uma chave",content:"4 d\xedgitos",onFinish:function(t){return e.setState({PIN:t,createPIN:!1,checkPIN:!0})}}),n&&r.a.createElement(Ee,{onClose:function(){return e.setState({checkPIN:!1})},title:o?"Confirme a chave":"Insira sua chave",onFinish:this.checkPIN}),r.a.createElement(K.a,{open:!0,onClose:c},r.a.createElement(Y.a,{id:"form-dialog-title"},"Entrar"),r.a.createElement(Z.a,null,r.a.createElement(ge.a,{autoFocus:!0,margin:"dense",label:"Jogador",fullWidth:!0,onChange:this.changePlayer,size:"small",value:i,variant:"outlined"})),r.a.createElement(le.a,null,r.a.createElement(ie.a,{onClick:this.addPlayer,color:"primary",variant:"outlined"},"Cadastrar"),r.a.createElement(ie.a,{onClick:function(){e.setState({creating:!1}),e.getPlayer()},color:"primary",ref:function(t){e.confirm=t},variant:"contained"},"Entrar"))))}}]),n}(a.Component),Ce=n(272),Oe=n(273),ke=n(296),Se=n(276),Ae=n(289),we=function(e){Object(F.a)(n,e);var t=Object(P.a)(n);function n(e){var a;return Object(g.a)(this,n),(a=t.call(this,e)).handleClose=function(){(0,a.props.handleClose)()},a.state={size:e.size},a}return Object(h.a)(n,[{key:"render",value:function(){var e=this,t=this.state.size,n=this.props.setChanges;return r.a.createElement(K.a,{open:!0,onClose:this.handleClose},r.a.createElement(Y.a,{id:"form-dialog-title"},"Configura\xe7\xf5es"),r.a.createElement(Z.a,null,r.a.createElement(Ce.a,{component:"fieldset"},r.a.createElement(Oe.a,{component:"legend"},"N\xedvel"),r.a.createElement(ke.a,{value:t,onChange:function(t){return e.setState({size:t.target.value})}},Object.entries(v).map((function(e){var t=Object(m.a)(e,2),n=t[0],a=t[1];return r.a.createElement(Se.a,{key:n,value:n,control:r.a.createElement(Ae.a,null),label:a.name})}))))),r.a.createElement(le.a,null,r.a.createElement(ie.a,{onClick:this.handleClose,color:"primary",variant:"outlined"},"Cancelar"),r.a.createElement(ie.a,{onClick:function(){e.handleClose(),n(t)},color:"primary",variant:"contained"},"Salvar")))}}]),n}(a.Component),je=function(e){Object(F.a)(n,e);var t=Object(P.a)(n);function n(e){var a;return Object(g.a)(this,n),(a=t.call(this,e)).counter=0,a.displayTime=function(){a.counter+=1e3,a.setState({time:a.formatTime(a.counter)})},a.formatTime=function(e){return U()().hour(0).minute(0).second(0).millisecond(e).format("mm:ss.SSS")},a.state={running:!1,time:a.formatTime(0)},a}return Object(h.a)(n,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=this.state.running;e.running&&!t?this.startWatch():t&&!e.running&&this.stopWatch()}},{key:"startWatch",value:function(){this.startTime=performance.now(),this.runClock=setInterval(this.displayTime,1e3),this.setState({running:!0,time:this.formatTime(0)})}},{key:"stopWatch",value:function(){var e=this.props.saveRecord;this.endTime=performance.now(),this.counter=0,clearInterval(this.runClock);var t=this.endTime-this.startTime;this.setState({running:!1,time:this.formatTime(t)}),e(t)}},{key:"render",value:function(){var e=this.state.time;return r.a.createElement(ge.a,{inputProps:{min:0,style:{textAlign:"center"}},disabled:!0,label:"Tempo",size:"small",style:{width:100},value:e,variant:"outlined"})}}]),n}(a.Component);je.defaultProps={running:!1,saveRecord:function(){}};var Fe=je,Pe=n(139),Re=n(277),Ne=n(278),Be=n(279),De=n(290),xe=n(274),Te=n(217),Ie=n(280),Ue=n(281),We=n(282),Ge=n(293),Me=n(131),qe=n.n(Me),Le=n(132),He=n.n(Le),ze=n(133),Ve=n.n(ze),Xe=n(135),Ke=n.n(Xe),Ye=n(134),Ze=n.n(Ye),Je=n(130);var Qe=function(){var e=Object(a.useContext)(y).isConnected;return r.a.createElement(Je.a,{color:e?"#64bb08":"#e64c1b",style:{margin:15}})},_e=function(e){Object(F.a)(n,e);var t=Object(P.a)(n);function n(e){var a;return Object(g.a)(this,n),(a=t.call(this,e)).menuId="primary-search-account-menu",a.onSelectItem=function(e){a.closeDrawer(),e()},a.openDrawer=function(){return a.setState({drawerOpen:!0})},a.closeDrawer=function(){return a.setState({drawerOpen:!1})},a.handleProfileMenuOpen=function(e){a.setState({anchorEl:e.currentTarget})},a.handleMenuClose=function(){a.setState({anchorEl:null})},a.renderMenu=function(){var e=a.state.anchorEl,t=a.props.name;return r.a.createElement(Pe.a,{anchorEl:e,anchorOrigin:{vertical:"top",horizontal:"left"},id:a.menuId,getContentAnchorEl:null,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:Boolean(e),onClose:a.handleMenuClose},r.a.createElement(Re.a,{onClick:a.openUser},t),r.a.createElement(Ne.a,null),r.a.createElement(Re.a,{onClick:a.handleLogout},"Sair"))},a.openUser=function(){var e=a.props.openUser;a.handleMenuClose(),e()},a.handleLogout=function(){var e=a.props.logout;f.setPlayer(null,null),a.handleMenuClose(),e()},a.state={drawerOpen:!1},a}return Object(h.a)(n,[{key:"render",value:function(){var e=this,t=this.state.drawerOpen,n=this.props,a=n.fileURL,o=n.openFeedback,l=n.openForm,i=n.openSettings,c=n.openAbout;return r.a.createElement(Be.a,{position:"static"},r.a.createElement(De.a,{open:t,onOpen:function(){},onClose:this.closeDrawer},r.a.createElement("div",{role:"presentation",style:{width:199}},r.a.createElement(xe.a,null,[{label:"Est\xe1gios",icon:r.a.createElement(qe.a,null),onClick:function(){return e.onSelectItem(i)}},{label:"Resultados",icon:r.a.createElement(He.a,null),onClick:function(){return e.onSelectItem(o)}}].map((function(e){return r.a.createElement(Te.a,{button:!0,key:e.label,onClick:e.onClick},r.a.createElement(Ie.a,null,e.icon),r.a.createElement(Ue.a,{primary:e.label}))}))),r.a.createElement(Ne.a,null),r.a.createElement(xe.a,null,[{label:"Contato",icon:r.a.createElement(Ve.a,null),onClick:l},{label:"Sobre",icon:r.a.createElement(Ze.a,null),onClick:c}].map((function(t){return r.a.createElement(Te.a,{button:!0,key:t.label,onClick:function(){return e.onSelectItem(t.onClick)}},r.a.createElement(Ie.a,null,t.icon),r.a.createElement(Ue.a,{primary:t.label}))}))))),r.a.createElement(We.a,null,r.a.createElement(Q.a,{edge:"start",color:"inherit",onClick:this.openDrawer},r.a.createElement(Ke.a,null)),r.a.createElement(_.a,{variant:"h6"},"N\xedvel ",v[f.getLevel()].name),r.a.createElement(Qe,null),r.a.createElement("div",{style:{position:"absolute",right:0}},r.a.createElement(Q.a,{"aria-controls":this.menuId,"aria-haspopup":"true",onClick:this.handleProfileMenuOpen,color:"inherit"},r.a.createElement(Ge.a,{src:a})))),this.renderMenu())}}]),n}(a.Component);_e.defaultProps={fileURL:"",name:""};var $e=_e,et=n(292),tt=n(283),nt=n(284),at=n(67),rt=n.n(at),ot=function(e){Object(F.a)(n,e);var t=Object(P.a)(n);function n(){return Object(g.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"render",value:function(){var e=this.props.handleClose,t=this.state.expanded;return r.a.createElement(K.a,{open:!0,onClose:e,scroll:"paper"},r.a.createElement(Y.a,{id:"scroll-dialog-title"},"Como Jogar"),r.a.createElement(Z.a,{dividers:!0},r.a.createElement(et.a,{expanded:"panel1"===t},r.a.createElement(tt.a,{expandIcon:r.a.createElement(rt.a,null),"aria-controls":"panel1bh-content",id:"panel1bh-header"},r.a.createElement(_.a,null,"General settings"),r.a.createElement(_.a,null,"I am an expansion panel")),r.a.createElement(nt.a,null,r.a.createElement(_.a,null,"Nulla facilisi. Phasellus sollicitudin nulla et quam mattis feugiat. Aliquam eget maximus est, id dignissim quam."))),r.a.createElement(et.a,{expanded:"panel2"===t},r.a.createElement(tt.a,{expandIcon:r.a.createElement(rt.a,null),"aria-controls":"panel2bh-content",id:"panel2bh-header"},r.a.createElement(_.a,null,"Users"),r.a.createElement(_.a,null,"You are currently not an owner")),r.a.createElement(nt.a,null,r.a.createElement(_.a,null,"Donec placerat, lectus sed mattis semper, neque lectus feugiat lectus, varius pulvinar diam eros in elit. Pellentesque convallis laoreet laoreet."))),r.a.createElement(et.a,{expanded:"panel3"===t},r.a.createElement(tt.a,{expandIcon:r.a.createElement(rt.a,null),"aria-controls":"panel3bh-content",id:"panel3bh-header"},r.a.createElement(_.a,null,"Advanced settings"),r.a.createElement(_.a,null,"Filtering has been entirely disabled for whole web server")),r.a.createElement(nt.a,null,r.a.createElement(_.a,null,"Nunc vitae orci ultricies, auctor nunc in, volutpat nisl. Integer sit amet egestas eros, vitae egestas augue. Duis vel est augue."))),r.a.createElement(et.a,{expanded:"panel4"===t},r.a.createElement(tt.a,{expandIcon:r.a.createElement(rt.a,null)},r.a.createElement(_.a,null,"Personal data")),r.a.createElement(nt.a,null,r.a.createElement(_.a,null,"Nunc vitae orci ultricies, auctor nunc in, volutpat nisl. Integer sit amet egestas eros, vitae egestas augue. Duis vel est augue.")))),r.a.createElement(le.a,null,r.a.createElement(ie.a,{variant:"contained",onClick:e,color:"primary"},"Fechar")))}}]),n}(a.Component),lt=new(function(){function e(){var t=this;Object(g.a)(this,e),this.min={guessBomb:null},this.iterateAround=function(e,n,a){for(var r=0,o=Math.max(0,e-1);o<=Math.min(t.getRows()-1,e+1);o+=1)for(var l=Math.max(0,n-1);l<=Math.min(t.getColumns()-1,n+1);l+=1)o===e&&l===n||(r+=a(o,l));return r}}return Object(h.a)(e,[{key:"getRows",value:function(){return this.rows}},{key:"setRows",value:function(e){this.rows=e}},{key:"getError",value:function(){return this.error}},{key:"setError",value:function(e){this.error=e}},{key:"getColumns",value:function(){return this.columns}},{key:"setColumns",value:function(e){this.columns=e}},{key:"getBombs",value:function(){return this.bombs}},{key:"setBombs",value:function(e){this.bombs=e}},{key:"getIterations",value:function(){return this.iterations}},{key:"setIterations",value:function(e){this.iterations=e}},{key:"getTotalGuesses",value:function(){return this.totalGuesses}},{key:"setTotalGuesses",value:function(e){this.totalGuesses=e}},{key:"incrementTotalGuesses",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.totalGuesses+=e}},{key:"getTotalWild",value:function(){return this.totalWild}},{key:"setTotalWild",value:function(e){this.totalWild=e}},{key:"incrementTotalWild",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.totalWild+=e}},{key:"getMin",value:function(){return this.min}},{key:"setMin",value:function(e){this.min=e}},{key:"getSquaresOpened",value:function(){return this.squaresOpened}},{key:"setSquaresOpened",value:function(e){this.squaresOpened=e}},{key:"incrementSquaresOpened",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.squaresOpened+=e}}]),e}()),it=["#000","#3b71ff","#417c03","#ed4f1d","#193680"],ct=function(e){Object(F.a)(n,e);var t=Object(P.a)(n);function n(e){var a;return Object(g.a)(this,n),(a=t.call(this,e)).setBackgroundColor=function(){var e=a.props.cell;if(!e.open){if(e.noBomb)return"#5BB";if(lt.getMin().guessBomb===e.guessBomb)return"#BB5"}return"#BBB"},a.recursiveOpener=function(){var e=a.props,t=e.cell,n=e.loseGame,r=e.openAround,o=e.refreshBoard,l=e.running,i=e.updateWilds,c=e.winGame,s=a.state,u=s.flag;return s.open||u||!l?null:(a.open=!0,a.setState({open:!0}),t.open=!0,t.isWild=!1,t.bomb?(lt.setSquaresOpened(0),lt.setTotalGuesses(0),n()):(lt.getTotalGuesses()&&o(),lt.setTotalGuesses(0),lt.setMin({guessBomb:null}),lt.incrementSquaresOpened(),lt.getSquaresOpened()===lt.getRows()*lt.getColumns()-lt.getBombs()?(lt.setSquaresOpened(0),c()):(t.number?i():(r(),o()),null)))},a.renderCell=function(){var e=a.props.cell,t=e.bomb,n=e.number,o=a.state.flag;return e.open?t?r.a.createElement(W.a,{size:22,style:{margin:"0.25rem 0 0 0"}}):r.a.createElement("div",{style:{color:it[n],fontSize:"1.41rem",marginTop:"0.125rem",userSelect:"none"}},r.a.createElement("b",null,n||"")):o?r.a.createElement(G.a,{size:22,style:{color:"red",margin:"0.25rem 0 0 0"}}):null},a.state={flag:!1,open:!1},a}return Object(h.a)(n,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){!this.open&&e.cell.open&&this.recursiveOpener()}},{key:"render",value:function(){var e=this,t=this.props.cell,n=this.state.flag;return r.a.createElement("td",{onClick:function(){e.recursiveOpener()},onContextMenu:function(a){t.flag?e.props.removeFlag():e.props.addFlag(),t.flag=!t.flag,e.setState({flag:!n}),a.preventDefault()},role:"gridcell",style:{backgroundColor:this.setBackgroundColor(),boxShadow:t.open?"inset 1px 1px 4px 1px #777":"inset -1px -1px 4px 1px #333",textAlign:"center",width:"2rem",height:"2rem",display:"inline-block"}},this.renderCell())}}]),n}(a.Component);ct.defaultProps={guessBomb:null};var st=function(e){var t=Object(a.useContext)(y),n=t.removeFlag,o=t.addFlag;return r.a.createElement(ct,Object.assign({removeFlag:n,addFlag:o},e))},ut=function(e){Object(F.a)(n,e);var t=Object(P.a)(n);function n(e){var a;return Object(g.a)(this,n),(a=t.call(this,e)).state={grid:e.grid},a}return Object(h.a)(n,[{key:"render",value:function(){var e=this,t=this.state.grid,n=this.props,a=n.loseGame,o=n.running,l=n.winGame;return r.a.createElement("tbody",null,t.map((function(n,i){return r.a.createElement("tr",{key:i.toString()},n.map((function(n,c){return r.a.createElement(st,{cell:n,key:"".concat(c.toString()).concat(i.toString()).concat(o),loseGame:a,openAround:function(){lt.iterateAround(i,c,(function(e,n){t[e][n].open=!0})),e.setState({grid:t})},refreshBoard:function(){return e.setState({grid:t})},running:o,updateWilds:function(){return lt.iterateAround(i,c,(function(e,n){t[e][n].isWild=!1}))},winGame:l})})))})))}}]),n}(a.Component),mt=n(136),dt=n(212),pt=function(e){var t=e.handleClose;return r.a.createElement(K.a,{open:!0,keepMounted:!0,onClose:t},r.a.createElement(Z.a,null,r.a.createElement("img",{alt:"Virtuala",src:dt,width:"208px"}),r.a.createElement(J.a,null,"Campo Minado Online"),r.a.createElement(J.a,null,"por Virtualab"),r.a.createElement(J.a,null,"Vers\xe3o ",mt.a)),r.a.createElement(le.a,null,r.a.createElement(ie.a,{color:"primary",onClick:t,variant:"contained"},"Fechar")))},gt=n(137),ht=function(e){Object(F.a)(n,e);var t=Object(P.a)(n);function n(e){var a;return Object(g.a)(this,n),(a=t.call(this,e)).handleClose=function(){(0,a.props.handleClose)()},a.handleSave=function(){var e=a.state,t=e.file,n=e.urlFile,r=a.props,o=r.alertError,l=r.handleSave,i=a.props._id;a.setState({loading:!0});var c=new FormData;c.append("file",t),X.updatePlayer(c,i).then((function(){return l(n)})).catch((function(e){o(e.response?e.response.data:e.message||"Estamos com problemas no servidor"),a.setState({loading:!1})}))},a.changeImage=function(){var e=Object(L.a)(q.a.mark((function e(t){var n,r,o;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.target,r=Object(m.a)(n.files,1),o=r[0],e.next=4,a.handleImageUpload(o);case 4:o=e.sent,a.setState({file:o,urlFile:URL.createObjectURL(o),loading:!1});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.handleImageUpload=function(){var e=Object(L.a)(q.a.mark((function e(t){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(gt.a)(t,{maxIteration:8,maxSizeMB:.03125,useWebWorker:!0});case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),a.state={file:null,urlFile:e.fileURL},a}return Object(h.a)(n,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=e.fileURL;t&&this.setState({urlFile:t})}},{key:"render",value:function(){var e=this,t=this.props.name,n=this.state,a=n.urlFile,o=n.loading;return r.a.createElement(K.a,{open:!0,keepMounted:!0,onClose:this.handleClose},o&&r.a.createElement(me,null),r.a.createElement(Z.a,null,r.a.createElement("label",{htmlFor:"icon-button-file"},r.a.createElement(Ge.a,{alt:t,src:a,style:{height:160,margin:"auto",width:160}}),r.a.createElement("input",{accept:"image/*",id:"icon-button-file",onChange:function(t){e.changeImage(t),e.setState({loading:!0})},style:{display:"none"},type:"file"}))),r.a.createElement(le.a,null,r.a.createElement(ie.a,{color:"primary",onClick:this.handleClose,variant:"outlined"},"Fechar"),r.a.createElement(ie.a,{color:"primary",onClick:this.handleSave,variant:"contained"},"Salvar")))}}]),n}(r.a.Component);var ft=function(e){var t=e.label,n=e.value;return r.a.createElement(ge.a,{inputProps:{min:0,style:{textAlign:"center"}},disabled:!0,label:t,size:"small",style:{width:100},value:n?U()().hour(0).minute(0).second(0).millisecond(n).format("mm:ss.SSS"):"--:--:---",variant:"outlined"})},vt=function(){var e=Object(a.useContext)(y).currentBombsRemaining;return r.a.createElement(ge.a,{inputProps:{style:{textAlign:"right"}},disabled:!0,label:"Bombas",size:"small",style:{width:100},value:e,variant:"outlined"})},bt=function(e){Object(F.a)(n,e);var t=Object(P.a)(n);function n(e){var a;Object(g.a)(this,n),(a=t.call(this,e)).askForAuth=function(){a.setState({name:null,player:null,dialog:"login",loading:!1})},a.generateGrid=function(){var e=Array(lt.getRows()).fill().map((function(){return Array(lt.getColumns()).fill().map((function(){return{bomb:!1,flag:!1,guessBomb:0,number:0,open:!1,isWild:!0}}))}));return Array(lt.getBombs()).fill().forEach((function(){var t,n;do{var a=Math.floor(Math.random()*lt.getRows()*lt.getColumns());t=Math.floor(a/lt.getColumns()),n=a%lt.getColumns()}while(e[t][n].bomb);lt.iterateAround(t,n,(function(t,n){e[t][n].number+=1})),e[t][n].bomb=!0})),lt.setMin({guessBomb:null}),e},a.updateDimensions=function(e){var t=v[e],n=t.bombs,a=t.dimensions,r=Object(m.a)(a,2),o=r[0],l=r[1];lt.setRows(o),lt.setColumns(l),lt.setBombs(n)},a.fetchDisplayRecords=function(){X.getRecords().then((function(e){var t=e.data,n=Object(m.a)(t,2)[1];a.updateRecords(n)}))},a.updateRecords=function(e){var t=e.length;a.setState({currentPlayerRecords:e,worldRecord:t?e[0].performance:null,lastRecord:t?e[t-1].performance:null})},a.setChanges=function(e){var t=a.props.updateFlags,n=a.state.key;a.updateDimensions(e),f.setLevel(e),t(),a.fetchDisplayRecords(),a.setState({grid:a.generateGrid(),key:!n,running:!1,size:e})},a.calculate=function(){var e=a.props,t=e.alertError,n=e.alertInfo;lt.setIterations(0);var r=a.state.grid;lt.setTotalGuesses(0),lt.setTotalWild(0);for(var o=Array(lt.getRows()).fill().map((function(e,t){return Array(lt.getColumns()).fill().map((function(e,n){var a=r[t][n];return a.guessBomb=0,a.isWild&&lt.incrementTotalWild(),-1}))})),l=0;l<lt.getRows();l+=1)for(var i=0;i<lt.getColumns();i+=1){var c=r[l][i];c.open&&c.number&&lt.iterateAround(l,i,(function(e,t){return r[e][t].open?0:1}))===c.number&&lt.iterateAround(l,i,(function(e,t){r[e][t].open||(o[e][t]=1)}))}if(a.checkValuesForNextCell(0,0,0,o),lt.getError())lt.setError(!1),t("N\xe3o foi possivel requerer ajuda, tente novamente mais tarde");else{var s=r.map((function(e,t){var n=e.map((function(e,n){return e.guessBomb||(r[t][n].noBomb=!0),e}));return T.a.minBy(T.a.filter(n,["open",!1]),"guessBomb")}));lt.setMin(T.a.minBy(T.a.filter(s,(function(e){return e})),"guessBomb")),n(lt.getMin().guessBomb?"".concat(Math.round(100*lt.getMin().guessBomb/lt.getTotalGuesses()),"% de chance de ter mina na regi\xe3o destacada em verde."):"A regi\xe3o destacada em azul n\xe3o tem minas!",{vertical:"top"}),a.setState({grid:r})}a.setState({thinking:!1})},a.checkValuesForNextCell=function(e,t,n,r){if(!lt.getError()){var o=a.state.grid,l=t,i=n+1;if(i===lt.getColumns()&&(i=0,l+=1),n||t!==lt.getRows()){var c=JSON.parse(JSON.stringify(r));c[t][n]=0,1===r[t][n]||a.checkAround(t,n,c)||a.checkValuesForNextCell(e,l,i,c);var s=o[t][n];!s.open&&e<lt.getBombs()&&!s.isWild&&((c=JSON.parse(JSON.stringify(r)))[t][n]=1,1!==r[t][n]&&a.checkAround(t,n,c)||a.checkValuesForNextCell(e+1,l,i,c))}else{var u=lt.getBombs()-e;if(u<=lt.getTotalWild()){var m=a.combinations(lt.getTotalWild(),u);m?(r.forEach((function(e,t){return e.forEach((function(e,n){o[t][n].isWild?o[t][n].guessBomb+=m*u/lt.getTotalWild():o[t][n].guessBomb+=e*m}))})),lt.incrementTotalGuesses(m)):lt.setError(!0)}}}},a.checkAround=function(e,t,n){var r=a.state.grid;return lt.iterateAround(e,t,(function(e,t){return r[e][t].open&&r[e][t].number?lt.iterateAround(e,t,(function(e,t){return!r[e][t].open&&n[e][t]<1||r[e][t].open?0:1}))<=r[e][t].number&&lt.iterateAround(e,t,(function(e,t){return!r[e][t].open&&!n[e][t]||r[e][t].open?0:1}))>=r[e][t].number?0:1:0}))},a.closeDialogs=function(){a.setState({dialog:null})},a.openFeedback=function(){a.setState({dialog:"feedback",victory:!1})},a.openSettings=function(){a.setState({dialog:"setup"})},a.openForm=function(){a.setState({dialog:"form"})},a.productRange=function(e,t){for(var n=e,a=e;a<t;)n*=a,a+=1;return n},a.combinations=function(e,t){var n=e-t;if(!n)return 1;var r=Math.max(n,t);return a.productRange(r+1,e)/a.productRange(1,e-r)},a.onClickPlay=function(){var e=a.state,t=e.grid,n=e.key;lt.setSquaresOpened(0),lt.setTotalGuesses(0),a.setState((function(e){var r=e.running;return{grid:r?t:a.generateGrid(),key:r?n:!n,running:!r,victory:!1}}))},a.fetchPicture=function(e){return X.downloadImage(e).then((function(e){return a.setState({fileURL:URL.createObjectURL(new Blob([e]))})}))},a.startGame=function(e,t){var n=a.props.alertSuccess;a.fetchPicture(e),n("Bom jogo!"),a.setState({player:e,name:t}),f.setPlayer(e,t),a.fetchDisplayRecords(),a.closeDialogs()},a.saveRecord=function(e){var t=a.props,n=t.alertError,r=t.alertSuccess,o=a.state,l=o.currentPlayerRecords,i=o.player,c=o.victory,s=o.worldRecord;if(c){var u={player:i,performance:e,level:f.getLevel()};X.addRecord(u).then((function(){return a.setState({dialog:"feedback",loading:!1})})).catch((function(){r("Voc\xea venceu! O seu tempo ser\xe1 sincronizado quando houver conex\xe3o."),f.addRecord(u),a.setState({loading:!1})}));var m=l.length,d=T.a.findIndex(l,(function(t){return t.performance>=e}));a.setState({loading:!0,performance:e,rating:m-(-1===d?m:d),worldRecord:Math.min(s,e),lastRecord:e})}else n("Jogo encerrado.")},a.openDocs=function(){a.setState({dialog:"docs"})},a.openAbout=function(){a.setState({dialog:"about"})},a.openUser=function(){a.setState({dialog:"user"})},a.confirmSavedUser=function(e){(0,a.props.alertSuccess)("Altera\xe7\xf5es gravadas"),a.setState({dialog:null,fileURL:e})};var r=f.getLevel();return a.updateDimensions(r),a.state={currentPlayerRecords:[],dialog:null,grid:a.generateGrid(),key:!1,loading:!0,name:"",performance:null,player:null,running:!1,size:r,thinking:!1,victory:!1},a}return Object(h.a)(n,[{key:"componentDidMount",value:function(){var e=f.getPlayer("player");this.fetchDisplayRecords(),e?("true"!==new URLSearchParams(window.location.search).get("low")&&this.fetchPicture(e),this.setState({player:e,name:f.getPlayer("name"),dialog:null,loading:!1})):this.askForAuth()}},{key:"render",value:function(){var e=this,t=this.props,n=t.alertError,a=t.alertInfo,o=t.alertSuccess,l=t.alertWarning,i=this.state,c=i.dialog,s=i.fileURL,u=i.grid,m=i.key,d=i.lastRecord,p=i.loading,g=i.name,h=i.player,f=i.thinking,v=i.performance,b=i.rating,E=i.running,y=i.size,C=i.victory,O=i.worldRecord;return r.a.createElement("div",null,"user"===c&&r.a.createElement(ht,{alertError:n,fileURL:s,handleClose:this.closeDialogs,handleSave:this.confirmSavedUser,name:g,_id:h}),"form"===c&&r.a.createElement(fe,{alertError:n,handleClose:function(t){t&&o(t),e.closeDialogs()}}),"docs"===c&&r.a.createElement(ot,{handleClose:this.closeDialogs}),r.a.createElement($e,{fileURL:s,logout:this.askForAuth,name:g,_id:h,openAbout:this.openAbout,openDocs:this.openDocs,openFeedback:this.openFeedback,openForm:this.openForm,openSettings:this.openSettings,openUser:this.openUser}),r.a.createElement(R.a,{maxWidth:"lg",style:{marginTop:"2rem"}},p&&r.a.createElement(me,null),"login"===c&&r.a.createElement(ye,{alertError:n,alertWarning:l,onStart:this.startGame}),"feedback"===c&&r.a.createElement(pe,{alertError:n,alertInfo:a,handleClose:this.closeDialogs,content:C&&"Tempo: ".concat(U()().minute(0).second(0).millisecond(v).format("mm:ss.SSS")),rating:b,updateRecords:this.updateRecords}),"setup"===c&&r.a.createElement(we,{handleClose:this.closeDialogs,setChanges:this.setChanges,size:y}),"about"===c&&r.a.createElement(pt,{handleClose:this.closeDialogs}),r.a.createElement(N.a,{container:!0,spacing:3,style:{justifyContent:"center"}},r.a.createElement(N.a,{item:!0,style:{margin:"auto",textAlign:"center"},xs:6,md:3},r.a.createElement(ft,{key:m,label:"Menor tempo",value:O})),r.a.createElement(N.a,{item:!0,style:{margin:"auto",textAlign:"center"},xs:6,md:3},r.a.createElement(ft,{key:m,label:"\xdaltimo tempo",value:d})),r.a.createElement(N.a,{item:!0,style:{margin:"auto",textAlign:"center"},xs:6,md:3},r.a.createElement(vt,null)),r.a.createElement(N.a,{item:!0,style:{margin:"auto",textAlign:"center"},xs:6,md:3},r.a.createElement(Fe,{saveRecord:this.saveRecord,running:E}))),r.a.createElement(N.a,{item:!0,style:{margin:"1.5rem 0.5rem 6rem",overflowY:"hidden"}},r.a.createElement("table",{role:"grid",style:{borderCollapse:"collapse",margin:"auto",opacity:E?1:.5,whiteSpace:"nowrap"}},r.a.createElement(ut,{grid:u,key:m,loseGame:function(){return e.setState({running:!1,victory:!1})},onClickPlay:this.onClickPlay,running:E,winGame:function(){return e.setState({running:!1,victory:!0})}}))),E?r.a.createElement(B.a,{color:"primary",style:{position:"fixed",right:"2rem",bottom:"2rem"},disabled:f,onClick:function(){e.setState({thinking:!0}),setTimeout(e.calculate,125)}},r.a.createElement(G.b,{size:32})):r.a.createElement(B.a,{color:"secondary",style:{position:"fixed",right:"2rem",bottom:"2rem"},onClick:this.onClickPlay},r.a.createElement(W.c,{size:23})),f&&r.a.createElement(D.a,{size:68,style:{position:"fixed",right:26,bottom:26,zIndex:1}})))}}]),n}(r.a.Component);var Et=function(){var e=Object(a.useContext)(y),t=e.alert,n=e.alertError,o=e.alertInfo,l=e.alertSuccess,i=e.alertWarning,c=e.updateFlags;return r.a.createElement(r.a.Fragment,null,t&&r.a.createElement(j,t),r.a.createElement(bt,{alertError:n,alertInfo:o,alertSuccess:l,alertWarning:i,updateFlags:c}))};function yt(e){var t=e.socket,n=Object(a.useContext)(y),o=n.alertError,l=n.alertSuccess,i=n.isConnected,c=n.setConnected,s=n.setDisconnected;return Object(a.useEffect)((function(){t.on("connect",(function(){!1===i&&l("Conectado."),console.log("Connected");var e=f.getRecords();e.length&&X.addRecord(e).then((function(){l("Seus recordes foram sincronizados."),f.clearRecords()})),c()})),t.on("disconnect",(function(){console.log("disconnected"),o("Desconectado do servidor."),s()}))}),[]),r.a.createElement(Et,null)}var Ct=function(){var e=c()(s.a);return r.a.createElement(C,null,r.a.createElement(yt,{socket:e}))};l.a.render(r.a.createElement(Ct,null),document.getElementById("root"))},36:function(e){e.exports=JSON.parse('{"sm":{"bombs":10,"dimensions":[8,8],"name":"F\xe1cil"},"md":{"bombs":40,"dimensions":[16,16],"name":"M\xe9dio"},"lg":{"bombs":99,"dimensions":[16,30],"name":"Dif\xedcil"}}')},75:function(e){e.exports=JSON.parse('{"a":"https://infinite-atoll-82278.herokuapp.com/"}')}},[[150,1,2]]]);
//# sourceMappingURL=main.b967eb68.chunk.js.map